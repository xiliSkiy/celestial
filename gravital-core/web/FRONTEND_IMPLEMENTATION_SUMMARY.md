# Gravital Core å‰ç«¯å®ç°æ€»ç»“

## ğŸ“‹ å®Œæˆå†…å®¹

### 1. é¡¹ç›®åŸºç¡€æ¡†æ¶ âœ…
- **å…¥å£æ–‡ä»¶**: `src/main.ts` - Vue åº”ç”¨åˆå§‹åŒ–
- **æ ¹ç»„ä»¶**: `src/App.vue` - åº”ç”¨æ ¹ç»„ä»¶
- **å…¨å±€æ ·å¼**: `src/assets/styles/global.scss` - æš—è‰²/äº®è‰²ä¸»é¢˜
- **é…ç½®æ–‡ä»¶**: 
  - `package.json` - é¡¹ç›®ä¾èµ–
  - `vite.config.ts` - Vite æ„å»ºé…ç½®
  - `tsconfig.json` - TypeScript é…ç½®
  - `.env.example` - ç¯å¢ƒå˜é‡ç¤ºä¾‹

### 2. å·¥å…·å‡½æ•°å’Œç±»å‹å®šä¹‰ âœ…
- **HTTP è¯·æ±‚**: `src/utils/request.ts` - Axios å°è£…ï¼ŒåŒ…å«æ‹¦æˆªå™¨
- **ç±»å‹å®šä¹‰**:
  - `src/types/api.ts` - API å“åº”ç±»å‹
  - `src/types/device.ts` - è®¾å¤‡ç›¸å…³ç±»å‹
  - `src/types/sentinel.ts` - Sentinel ç›¸å…³ç±»å‹
  - `src/types/alert.ts` - å‘Šè­¦ç›¸å…³ç±»å‹

### 3. API æ¥å£å°è£… âœ…
- `src/api/auth.ts` - è®¤è¯ API
- `src/api/device.ts` - è®¾å¤‡ç®¡ç† API
- `src/api/sentinel.ts` - Sentinel ç®¡ç† API
- `src/api/alert.ts` - å‘Šè­¦ç®¡ç† API

### 4. çŠ¶æ€ç®¡ç† (Pinia) âœ…
- `src/stores/user.ts` - ç”¨æˆ·çŠ¶æ€ç®¡ç†
- `src/stores/device.ts` - è®¾å¤‡çŠ¶æ€ç®¡ç†

### 5. è·¯ç”±é…ç½® âœ…
- `src/router/index.ts` - è·¯ç”±å®šä¹‰å’Œå®ˆå«
- æ”¯æŒçš„è·¯ç”±:
  - `/login` - ç™»å½•é¡µ
  - `/` - ä»ªè¡¨ç›˜
  - `/devices` - è®¾å¤‡åˆ—è¡¨
  - `/devices/:id` - è®¾å¤‡è¯¦æƒ…
  - `/sentinels` - Sentinel åˆ—è¡¨
  - `/sentinels/:id` - Sentinel è¯¦æƒ…
  - `/tasks` - ä»»åŠ¡ç®¡ç†
  - `/alerts` - å‘Šè­¦ç®¡ç†
  - `/forwarders` - æ•°æ®è½¬å‘
  - `/settings` - ç³»ç»Ÿè®¾ç½®

### 6. å¸ƒå±€ç»„ä»¶ âœ…
- `src/layouts/DefaultLayout.vue` - é»˜è®¤å¸ƒå±€ï¼ˆä¾§è¾¹æ  + é¡¶éƒ¨å¯¼èˆªï¼‰
  - å¯æŠ˜å ä¾§è¾¹æ 
  - é¢åŒ…å±‘å¯¼èˆª
  - ä¸»é¢˜åˆ‡æ¢
  - é€šçŸ¥ä¸­å¿ƒ
  - ç”¨æˆ·èœå•

### 7. é€šç”¨ç»„ä»¶ âœ…
- `src/components/common/StatCard.vue` - ç»Ÿè®¡å¡ç‰‡
- `src/components/common/ChartCard.vue` - å›¾è¡¨å¡ç‰‡
- `src/components/common/StatusBadge.vue` - çŠ¶æ€å¾½ç« 

### 8. é¡µé¢ç»„ä»¶ âœ…

#### ç™»å½•é¡µé¢
- `src/views/Login.vue` - ç”¨æˆ·ç™»å½•

#### ä»ªè¡¨ç›˜
- `src/views/Dashboard.vue` - æ•°æ®æ¦‚è§ˆ
  - 4 ä¸ªç»Ÿè®¡å¡ç‰‡ï¼ˆè®¾å¤‡æ€»æ•°ã€åœ¨çº¿è®¾å¤‡ã€æ´»è·ƒå‘Šè­¦ã€ä»»åŠ¡æ•°ï¼‰
  - 4 ä¸ªå›¾è¡¨ï¼ˆè®¾å¤‡çŠ¶æ€åˆ†å¸ƒã€å‘Šè­¦è¶‹åŠ¿ã€Sentinel çŠ¶æ€ã€æ•°æ®è½¬å‘ç»Ÿè®¡ï¼‰
  - æœ€è¿‘æ´»åŠ¨æ—¶é—´çº¿

#### è®¾å¤‡ç®¡ç†
- `src/views/Devices/List.vue` - è®¾å¤‡åˆ—è¡¨
  - æœç´¢å’Œç­›é€‰
  - æ·»åŠ /ç¼–è¾‘/åˆ é™¤è®¾å¤‡
  - æ‰¹é‡å¯¼å…¥/å¯¼å‡º
- `src/views/Devices/Detail.vue` - è®¾å¤‡è¯¦æƒ…
  - åŸºæœ¬ä¿¡æ¯
  - ç›‘æ§æŒ‡æ ‡å›¾è¡¨
  - é‡‡é›†ä»»åŠ¡
  - å‘Šè­¦è§„åˆ™

#### Sentinel ç®¡ç†
- `src/views/Sentinels/List.vue` - Sentinel åˆ—è¡¨ï¼ˆå¡ç‰‡ç½‘æ ¼ï¼‰
  - çŠ¶æ€å±•ç¤º
  - æ€§èƒ½æŒ‡æ ‡
- `src/views/Sentinels/Detail.vue` - Sentinel è¯¦æƒ…
  - ç³»ç»Ÿä¿¡æ¯
  - æ€§èƒ½ç»Ÿè®¡

#### ä»»åŠ¡ç®¡ç†
- `src/views/Tasks/List.vue` - ä»»åŠ¡åˆ—è¡¨
  - åˆ›å»º/ç¼–è¾‘/åˆ é™¤ä»»åŠ¡

#### å‘Šè­¦ç®¡ç†
- `src/views/Alerts/Index.vue` - å‘Šè­¦ç®¡ç†
  - å‘Šè­¦è§„åˆ™åˆ—è¡¨
  - å‘Šè­¦äº‹ä»¶æ—¶é—´çº¿

#### æ•°æ®è½¬å‘
- `src/views/Forwarders/List.vue` - è½¬å‘å™¨åˆ—è¡¨
  - è½¬å‘å™¨å¡ç‰‡
  - ç¼“å†²åŒºçŠ¶æ€

#### ç³»ç»Ÿè®¾ç½®
- `src/views/Settings/Index.vue` - ç³»ç»Ÿè®¾ç½®
  - åŸºæœ¬è®¾ç½®
  - ç”¨æˆ·ç®¡ç†

#### 404 é¡µé¢
- `src/views/NotFound.vue` - é¡µé¢æœªæ‰¾åˆ°

### 9. éƒ¨ç½²é…ç½® âœ…
- `Dockerfile` - Docker é•œåƒæ„å»º
- `nginx.conf` - Nginx é…ç½®
- `.gitignore` - Git å¿½ç•¥è§„åˆ™

## ğŸ¨ æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: Vue 3 + TypeScript
- **æ„å»ºå·¥å…·**: Vite
- **UI ç»„ä»¶åº“**: Element Plus
- **çŠ¶æ€ç®¡ç†**: Pinia
- **è·¯ç”±**: Vue Router
- **å›¾è¡¨åº“**: Apache ECharts
- **HTTP å®¢æˆ·ç«¯**: Axios
- **CSS é¢„å¤„ç†**: Sass

## ğŸ“Š åŠŸèƒ½ç‰¹æ€§

### 1. ä¸»é¢˜ç³»ç»Ÿ
- æš—è‰²ä¸»é¢˜ï¼ˆé»˜è®¤ï¼‰
- äº®è‰²ä¸»é¢˜
- ä¸€é”®åˆ‡æ¢

### 2. æƒé™æ§åˆ¶
- è·¯ç”±å®ˆå«
- æŒ‰é’®æƒé™
- API æƒé™

### 3. å“åº”å¼è®¾è®¡
- æ”¯æŒæ¡Œé¢ç«¯
- ç§»åŠ¨ç«¯é€‚é…ï¼ˆéƒ¨åˆ†ï¼‰

### 4. æ€§èƒ½ä¼˜åŒ–
- è·¯ç”±æ‡’åŠ è½½
- ç»„ä»¶æ‡’åŠ è½½
- å›¾è¡¨è‡ªé€‚åº”

### 5. ç”¨æˆ·ä½“éªŒ
- åŠ è½½çŠ¶æ€
- é”™è¯¯æç¤º
- æ“ä½œç¡®è®¤
- å®æ—¶åˆ·æ–°

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–
```bash
cd gravital-core/web
npm install
```

### å¼€å‘ç¯å¢ƒ
```bash
npm run dev
```
è®¿é—® http://localhost:5173

### ç”Ÿäº§æ„å»º
```bash
npm run build
```

### Docker éƒ¨ç½²
```bash
docker build -t gravital-core-web:latest .
docker run -d -p 80:80 gravital-core-web:latest
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
web/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/                 # API æ¥å£å°è£…
â”‚   â”‚   â”œâ”€â”€ auth.ts
â”‚   â”‚   â”œâ”€â”€ device.ts
â”‚   â”‚   â”œâ”€â”€ sentinel.ts
â”‚   â”‚   â””â”€â”€ alert.ts
â”‚   â”œâ”€â”€ assets/              # é™æ€èµ„æº
â”‚   â”‚   â””â”€â”€ styles/
â”‚   â”‚       â””â”€â”€ global.scss
â”‚   â”œâ”€â”€ components/          # ç»„ä»¶
â”‚   â”‚   â””â”€â”€ common/
â”‚   â”‚       â”œâ”€â”€ StatCard.vue
â”‚   â”‚       â”œâ”€â”€ ChartCard.vue
â”‚   â”‚       â””â”€â”€ StatusBadge.vue
â”‚   â”œâ”€â”€ layouts/             # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â””â”€â”€ DefaultLayout.vue
â”‚   â”œâ”€â”€ router/              # è·¯ç”±é…ç½®
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ stores/              # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ user.ts
â”‚   â”‚   â””â”€â”€ device.ts
â”‚   â”œâ”€â”€ types/               # TypeScript ç±»å‹
â”‚   â”‚   â”œâ”€â”€ api.ts
â”‚   â”‚   â”œâ”€â”€ device.ts
â”‚   â”‚   â”œâ”€â”€ sentinel.ts
â”‚   â”‚   â””â”€â”€ alert.ts
â”‚   â”œâ”€â”€ utils/               # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ request.ts
â”‚   â”œâ”€â”€ views/               # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Login.vue
â”‚   â”‚   â”œâ”€â”€ Dashboard.vue
â”‚   â”‚   â”œâ”€â”€ Devices/
â”‚   â”‚   â”‚   â”œâ”€â”€ List.vue
â”‚   â”‚   â”‚   â””â”€â”€ Detail.vue
â”‚   â”‚   â”œâ”€â”€ Sentinels/
â”‚   â”‚   â”‚   â”œâ”€â”€ List.vue
â”‚   â”‚   â”‚   â””â”€â”€ Detail.vue
â”‚   â”‚   â”œâ”€â”€ Tasks/
â”‚   â”‚   â”‚   â””â”€â”€ List.vue
â”‚   â”‚   â”œâ”€â”€ Alerts/
â”‚   â”‚   â”‚   â””â”€â”€ Index.vue
â”‚   â”‚   â”œâ”€â”€ Forwarders/
â”‚   â”‚   â”‚   â””â”€â”€ List.vue
â”‚   â”‚   â”œâ”€â”€ Settings/
â”‚   â”‚   â”‚   â””â”€â”€ Index.vue
â”‚   â”‚   â””â”€â”€ NotFound.vue
â”‚   â”œâ”€â”€ App.vue
â”‚   â””â”€â”€ main.ts
â”œâ”€â”€ public/
â”œâ”€â”€ index.html
â”œâ”€â”€ package.json
â”œâ”€â”€ vite.config.ts
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ nginx.conf
â””â”€â”€ README.md
```

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### 1. ä»ªè¡¨ç›˜
- âœ… ç»Ÿè®¡å¡ç‰‡å±•ç¤º
- âœ… è®¾å¤‡çŠ¶æ€åˆ†å¸ƒå›¾
- âœ… å‘Šè­¦è¶‹åŠ¿å›¾
- âœ… Sentinel çŠ¶æ€å›¾
- âœ… æ•°æ®è½¬å‘ç»Ÿè®¡å›¾
- âœ… æœ€è¿‘æ´»åŠ¨æ—¶é—´çº¿

### 2. è®¾å¤‡ç®¡ç†
- âœ… è®¾å¤‡åˆ—è¡¨å±•ç¤º
- âœ… æœç´¢å’Œç­›é€‰
- âœ… æ·»åŠ /ç¼–è¾‘è®¾å¤‡
- âœ… åˆ é™¤è®¾å¤‡
- âœ… è®¾å¤‡è¯¦æƒ…æŸ¥çœ‹
- â³ æ‰¹é‡å¯¼å…¥ï¼ˆå¾…å®ç°ï¼‰
- â³ æ‰¹é‡å¯¼å‡ºï¼ˆå¾…å®ç°ï¼‰
- â³ è®¾å¤‡åˆ†ç»„æ ‘ï¼ˆå¾…å®ç°ï¼‰

### 3. Sentinel ç®¡ç†
- âœ… Sentinel å¡ç‰‡ç½‘æ ¼
- âœ… çŠ¶æ€å±•ç¤º
- âœ… æ€§èƒ½æŒ‡æ ‡
- âœ… Sentinel è¯¦æƒ…
- â³ æ§åˆ¶æ“ä½œï¼ˆå¾…å®ç°ï¼‰

### 4. ä»»åŠ¡ç®¡ç†
- âœ… ä»»åŠ¡åˆ—è¡¨
- â³ åˆ›å»ºä»»åŠ¡ï¼ˆå¾…å®ç°ï¼‰
- â³ ç¼–è¾‘ä»»åŠ¡ï¼ˆå¾…å®ç°ï¼‰
- â³ åˆ é™¤ä»»åŠ¡ï¼ˆå¾…å®ç°ï¼‰

### 5. å‘Šè­¦ç®¡ç†
- âœ… å‘Šè­¦è§„åˆ™åˆ—è¡¨
- âœ… å‘Šè­¦äº‹ä»¶æ—¶é—´çº¿
- â³ åˆ›å»ºè§„åˆ™ï¼ˆå¾…å®ç°ï¼‰
- â³ ç¼–è¾‘è§„åˆ™ï¼ˆå¾…å®ç°ï¼‰
- â³ ç¡®è®¤/è§£å†³å‘Šè­¦ï¼ˆå¾…å®ç°ï¼‰

### 6. æ•°æ®è½¬å‘
- âœ… è½¬å‘å™¨å¡ç‰‡
- âœ… ç¼“å†²åŒºçŠ¶æ€
- â³ æ·»åŠ è½¬å‘å™¨ï¼ˆå¾…å®ç°ï¼‰
- â³ ç¼–è¾‘è½¬å‘å™¨ï¼ˆå¾…å®ç°ï¼‰
- â³ åˆ é™¤è½¬å‘å™¨ï¼ˆå¾…å®ç°ï¼‰

### 7. ç³»ç»Ÿè®¾ç½®
- âœ… ç³»ç»Ÿä¿¡æ¯å±•ç¤º
- âœ… æ•°æ®åº“çŠ¶æ€
- âœ… ç³»ç»Ÿé™åˆ¶é…ç½®
- âœ… ç”¨æˆ·åˆ—è¡¨
- â³ æ·»åŠ ç”¨æˆ·ï¼ˆå¾…å®ç°ï¼‰
- â³ ç¼–è¾‘ç”¨æˆ·ï¼ˆå¾…å®ç°ï¼‰

## ğŸ”§ å¾…å®Œå–„åŠŸèƒ½

### é«˜ä¼˜å…ˆçº§
1. **å®æ—¶æ•°æ®æ¨é€** - WebSocket é›†æˆ
2. **å®Œå–„è¡¨å•éªŒè¯** - æ‰€æœ‰è¡¨å•çš„éªŒè¯é€»è¾‘
3. **å®Œå–„é”™è¯¯å¤„ç†** - ç»Ÿä¸€çš„é”™è¯¯å¤„ç†æœºåˆ¶
4. **å®Œå–„ API é›†æˆ** - è¿æ¥çœŸå®åç«¯ API

### ä¸­ä¼˜å…ˆçº§
1. **æ•°æ®å¯è§†åŒ–å¢å¼º** - æ›´å¤šå›¾è¡¨ç±»å‹
2. **ç§»åŠ¨ç«¯ä¼˜åŒ–** - å®Œæ•´çš„ç§»åŠ¨ç«¯é€‚é…
3. **å›½é™…åŒ–æ”¯æŒ** - å¤šè¯­è¨€åˆ‡æ¢
4. **å•å…ƒæµ‹è¯•** - ç»„ä»¶å’Œå‡½æ•°æµ‹è¯•

### ä½ä¼˜å…ˆçº§
1. **è‡ªå®šä¹‰ Dashboard** - ç”¨æˆ·è‡ªå®šä¹‰ä»ªè¡¨ç›˜
2. **å¯¼å‡ºåŠŸèƒ½** - æ•°æ®å¯¼å‡ºä¸º Excel/CSV
3. **æ‰“å°åŠŸèƒ½** - é¡µé¢æ‰“å°ä¼˜åŒ–
4. **å¿«æ·é”®æ”¯æŒ** - é”®ç›˜å¿«æ·é”®

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **ç¯å¢ƒå˜é‡**: éœ€è¦åˆ›å»º `.env.local` æ–‡ä»¶é…ç½® API åœ°å€
2. **API ä»£ç†**: å¼€å‘ç¯å¢ƒä¸‹ API è¯·æ±‚ä¼šä»£ç†åˆ° `http://localhost:8080`
3. **è®¤è¯**: éœ€è¦å…ˆç™»å½•æ‰èƒ½è®¿é—®å…¶ä»–é¡µé¢
4. **ä¸»é¢˜**: é»˜è®¤ä½¿ç”¨æš—è‰²ä¸»é¢˜ï¼Œå¯é€šè¿‡é¡¶éƒ¨æŒ‰é’®åˆ‡æ¢

## ğŸ‰ æ€»ç»“

å‰ç«¯åŸºç¡€æ¡†æ¶å·²ç»æ­å»ºå®Œæˆï¼ŒåŒ…æ‹¬ï¼š
- âœ… å®Œæ•´çš„é¡¹ç›®ç»“æ„
- âœ… è·¯ç”±å’ŒçŠ¶æ€ç®¡ç†
- âœ… é€šç”¨ç»„ä»¶åº“
- âœ… æ‰€æœ‰ä¸»è¦é¡µé¢æ¡†æ¶
- âœ… API æ¥å£å°è£…
- âœ… éƒ¨ç½²é…ç½®

ä¸‹ä¸€æ­¥å¯ä»¥ï¼š
1. è¿æ¥çœŸå®åç«¯ API
2. å®Œå–„è¡¨å•åŠŸèƒ½
3. æ·»åŠ  WebSocket å®æ—¶é€šä¿¡
4. ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ
5. æ·»åŠ å•å…ƒæµ‹è¯•

---

**å®ç°æ—¥æœŸ**: 2025-11-02  
**ç‰ˆæœ¬**: v1.0.0  
**å¼€å‘è€…**: AI Assistant

